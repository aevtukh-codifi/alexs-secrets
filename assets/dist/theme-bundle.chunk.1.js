(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{283:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return s}));var i=n(103),r=n(186),a=n(33),o=n(188),c=n(665),d=n(67),l=n(35);function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(t){var n,i;function s(n){var i;return(i=t.call(this,n)||this).url=window.location.href,i.$reviewLink=e('[data-reveal-id="modal-review-form"]'),i.$bulkPricingLink=e('[data-reveal-id="modal-bulk-pricing"]'),i.reviewModal=Object(l.c)("#modal-review-form")[0],i}i=t,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,u(n,i);var v=s.prototype;return v.onReady=function(){var t,n=this;e(document).on("close.fndtn.reveal",(function(){-1!==n.url.indexOf("#write_review")&&"function"==typeof window.history.replaceState&&window.history.replaceState(null,document.title,window.location.pathname)})),Object(a.b)(),this.productDetails=new o.a(e(".productView"),this.context,window.BCData.product_attributes),this.productDetails.setProductVariant(),Object(c.a)(),this.bulkPricingHandler();var i=Object(d.c)(".writeReview-form");if(0!==i.length){var l=new r.a({$reviewForm:i});e("body").on("click",'[data-reveal-id="modal-review-form"]',(function(){t=l.registerValidation(n.context),n.ariaDescribeReviewInputs(i)})),i.on("submit",(function(){return!!t&&(t.performCheck(),t.areAll("valid"))})),this.productReviewHandler(),this.createBrandInfo()}},v.createBrandInfo=function(){var e=this.context.productBrand,t=this.context.token;fetch("/graphql",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({query:"\n                query MyFirstQuery {\n                site {\n                        brands {\n                            edges {\n                                node {\n                                    name,\n                                    defaultImage {\n                                        urlOriginal,\n                                        altText\n                                    }\n                                    seo {\n                                        metaDescription \n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                "})}).then((function(e){return e.json()})).then((function(t){var n,i,r,a,o,c,d,l,u,s,v,f,h=(null==t||null==(n=t.data)||null==(i=n.site)||null==(r=i.brands)?void 0:r.edges).filter((function(t){var n;return(null==t||null==(n=t.node)?void 0:n.name)==e})),p=document.createElement("img"),m=(null==(a=h[0])||null==(o=a.node)||null==(c=o.defaultImage)?void 0:c.urlOriginal)||"https://via.placeholder.com/150";p.setAttribute("src",m),p.setAttribute("alt",""+(null==(d=h[0])||null==(l=d.node)||null==(u=l.defaultImage)?void 0:u.altText)),document.getElementById("brand-img").append(p);var w=document.createElement("p");w.innerHTML=""+(null==(s=h[0])||null==(v=s.node)||null==(f=v.seo)?void 0:f.metaDescription)||"There is no description",document.getElementById("brand-description").append(w)}))},v.ariaDescribeReviewInputs=function(t){t.find("[data-input]").each((function(t,n){var i=e(n),r=i.attr("name")+"-msg";i.siblings("span").attr("id",r),i.attr("aria-describedby",r)}))},v.productReviewHandler=function(){-1!==this.url.indexOf("#write_review")&&this.$reviewLink.trigger("click")},v.bulkPricingHandler=function(){-1!==this.url.indexOf("#bulk_pricing")&&this.$bulkPricingLink.trigger("click")},s}(i.a)}.call(this,n(4))},665:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var i=function(){function t(e){this.$player=e.find("[data-video-player]"),this.$videos=e.find("[data-video-item]"),this.currentVideo={},this.bindEvents()}var n=t.prototype;return n.selectNewVideo=function(t){t.preventDefault();var n=e(t.currentTarget);this.currentVideo={id:n.data("videoId"),$selectedThumb:n},this.setMainVideo(),this.setActiveThumb()},n.setMainVideo=function(){this.$player.attr("src","//www.youtube.com/embed/"+this.currentVideo.id)},n.setActiveThumb=function(){this.$videos.removeClass("is-active"),this.currentVideo.$selectedThumb.addClass("is-active")},n.bindEvents=function(){this.$videos.on("click",this.selectNewVideo.bind(this))},t}();function r(){e("[data-video-gallery]").each((function(t,n){var r=e(n);r.data("video-gallery")instanceof i||r.data("video-gallery",new i(r))}))}}).call(this,n(4))}}]);
//# sourceMappingURL=theme-bundle.chunk.1.js.map